PROJECT(codecs)

include_directories(ogg/include ogg vorbis/include vorbis/lib vorbis)

macro ( generate_ogg_config_types)
	if(NOT EXISTS "${CMAKE_CURRENT_BINARY_DIR}/ogg/config_types.h")
		set (LOCAL_PROPERTIES_FILE ${CMAKE_CURRENT_BINARY_DIR}/ogg/config_types.h)
		file(WRITE ${LOCAL_PROPERTIES_FILE} "//Autogenerated by cmake\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "#pragma once\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "typedef short ogg_int16_t;\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "typedef unsigned short ogg_uint16_t;\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "typedef int ogg_int32_t;\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "typedef unsigned int ogg_uint32_t;\n")
		file(APPEND ${LOCAL_PROPERTIES_FILE} "typedef long long ogg_int64_t;\n")
	endif()
endmacro( generate_ogg_config_types)

generate_ogg_config_types()
include_directories(${CMAKE_CURRENT_BINARY_DIR})

set(OGG
	ogg/include/ogg/ogg.h
	ogg/include/ogg/os_types.h
	ogg/src/bitwise.c
	ogg/src/framing.c
)


set(VORBIS
	vorbis/include/vorbis/codec.h
	vorbis/include/vorbis/vorbisenc.h
	vorbis/include/vorbis/vorbisfile.h
	vorbis/lib/backends.h
	vorbis/lib/bitrate.h
	vorbis/lib/codebook.h
	vorbis/lib/codec_internal.h
	vorbis/lib/envelope.h
	vorbis/lib/highlevel.h
	vorbis/lib/lookup.h
	vorbis/lib/lookup_data.h
	vorbis/lib/lpc.h
	vorbis/lib/lsp.h
	vorbis/lib/masking.h
	vorbis/lib/mdct.h
	vorbis/lib/misc.h
	vorbis/lib/os.h
	vorbis/lib/psy.h
	vorbis/lib/registry.h
	vorbis/lib/scales.h
	vorbis/lib/smallft.h
	vorbis/lib/window.h

	vorbis/lib/analysis.c
	#vorbis/lib/barkmel.c
	vorbis/lib/bitrate.c
	vorbis/lib/block.c
	vorbis/lib/codebook.c
	vorbis/lib/envelope.c
	vorbis/lib/floor0.c
	vorbis/lib/floor1.c
	vorbis/lib/info.c
	vorbis/lib/lookup.c
	vorbis/lib/lpc.c
	vorbis/lib/lsp.c
	vorbis/lib/mapping0.c
	vorbis/lib/mdct.c
	vorbis/lib/psy.c
	vorbis/lib/registry.c
	vorbis/lib/res0.c
	vorbis/lib/sharedbook.c
	vorbis/lib/smallft.c
	vorbis/lib/synthesis.c
	vorbis/lib/vorbisenc.c
	vorbis/lib/vorbisfile.c
	vorbis/lib/window.c
)

add_library(${PROJECT_NAME} STATIC ${VORBIS} ${OGG})



